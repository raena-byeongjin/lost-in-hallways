using UnityEngine.UI;
using UnityEngine;

//네트워크 수신을 처리하기 위한 클래스
public class ReceiveBehaviour : FrameworkBehaviour
{
    //패킷 수신에 반응하기 위한 함수
    public virtual bool ON( string compile, AppsParameter col )
    {
        if( !Library.Is(compile) ) return false;
        if( col==null ) return false;

		if( ONSystem( compile, col ) ) return true;
//		if( ONPlayer( compile, col ) ) return true;
//		if( ONPerson( compile, col ) ) return true;
//		if( ONCompany( compile, col ) ) return true;
//		if( ONBusiness( compile, col ) ) return true;
//		if( ONDepartment( compile, col ) ) return true;
//		if( ONProduct( compile, col ) ) return true;
//		if( ONInterface( compile, col ) ) return true;
//		if( ONStock( compile, col ) ) return true;

		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 계정 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONSystem( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// 이용 계약에 동의함
			//-----------------------------------------------------------------------------------------------------------------------
			case "ApplicationContract":
				ApplicationContract( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 이용 계약에 동의함
			//-----------------------------------------------------------------------------------------------------------------------
			case "ApplicationContractAgree":
				ApplicationContractAgree( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "DayUnit":
				DayUnit( col );
				return true;
				
#if UNITY_EDITOR
			//-----------------------------------------------------------------------------------------------------------------------
			// 계정
			//-----------------------------------------------------------------------------------------------------------------------
			case "Account":
				Account( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 계정 리스트
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadAccountList":
				LoadAccountList( col );
				return true;
#endif

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "SessionOut":
				SessionOut( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 그래프
			//-----------------------------------------------------------------------------------------------------------------------
			case "Graph":
				Graph( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "Define":
				Define( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 인물 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONPerson( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// 인물 (Person)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Person":
				Person( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 사진을 업로드함
			//-----------------------------------------------------------------------------------------------------------------------
			case "PersonPicture":
				PersonPicture( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 아바타를 저장함
			//-----------------------------------------------------------------------------------------------------------------------
			case "AvatarSave":
				AvatarSave( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 기업 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONCompany( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// 기업 (Company)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Company":
				Company( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 창업 (Foundation)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Foundation":
				Foundation( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 건설 (Build)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Build":
				Build( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 기업 로고 변경
			//-----------------------------------------------------------------------------------------------------------------------
			case "CompanyPicture":
				CompanyPicture( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 기업 이름 변경
			//-----------------------------------------------------------------------------------------------------------------------
			case "CompanyNameChange":
				CompanyNameChange( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 기업 정보를 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadCompany":
				LoadCompany( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 사업체 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONBusiness( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// 사업체 (Business)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Business":
				Business( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 부서 (Department)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Department":
				Department( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 부서 개설 (DepartmentCreate)
			//-----------------------------------------------------------------------------------------------------------------------
			case "DepartmentCreate":
				DepartmentCreate( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 부서 정보를 모두 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadBusiness":
				LoadBusiness( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 사업체 철거
			//-----------------------------------------------------------------------------------------------------------------------
			case "BusinessDestroy":
				BusinessDestroy( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 부서 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONDepartment( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// 생산 (Make)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Make":
				Make( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 부서 폐쇄
			//-----------------------------------------------------------------------------------------------------------------------
			case "DepartmentDestroy":
				DepartmentDestroy( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 재배
			//-----------------------------------------------------------------------------------------------------------------------
			case "Cultivate":
				Cultivate( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 가축 사육
			//-----------------------------------------------------------------------------------------------------------------------
			case "Breed":
				Breed( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 축산 가공
			//-----------------------------------------------------------------------------------------------------------------------
			case "Manufacture":
				Manufacture( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 공급 계약
			//-----------------------------------------------------------------------------------------------------------------------
			case "SupplyContract":
				SupplyContract( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 공급 계약
			//-----------------------------------------------------------------------------------------------------------------------
			case "SupplyContractEnd":
				SupplyContractEnd( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 공급 계약을 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadSupplyContract":
				LoadSupplyContract( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 생산 등록
			//-----------------------------------------------------------------------------------------------------------------------
			case "IndustryRegister":
				IndustryRegister( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 상품 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONProduct( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// 상품 (Product)
			//-----------------------------------------------------------------------------------------------------------------------
			case "Product":
				Product( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 재고 처분 (ProductDispose)
			//-----------------------------------------------------------------------------------------------------------------------
			case "ProductDispose":
				ProductDispose( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadProduct":
				LoadProduct( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 인터페이스 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONInterface( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// 기업 정보를 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadCompanyList":
				LoadCompanyList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 사업체 정보를 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadBusinessList":
				LoadBusinessList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 상품 정보를 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadProductList":
				LoadProductList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 경영인 정보를 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadPersonList":
				LoadPersonList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "RequestCompany":
				RequestCompany( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "RequestBusiness":
				RequestBusiness( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "RequestPerson":
				RequestPerson( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 운송 정보를 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "Transport":
				Transport( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 운송 리스트를 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadTransportList":
				LoadTransportList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 주식 시장을 불러옴
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadStockMarket":
				LoadStockMarket( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 주식을 발행함
			//-----------------------------------------------------------------------------------------------------------------------
			case "StockPublish":
				StockPublish( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadIndustry":
				LoadIndustry( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "IndustryResource":
				IndustryResource( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "Industry":
				Industry( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// 자금
			//-----------------------------------------------------------------------------------------------------------------------
			case "Cash":
				Cash( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadPerson":
				LoadPerson( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadStockList":
				LoadStockList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "Identity-Error":
				IdentityError( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadNotifyList":
				LoadNotifyList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "Notifies":
				Notifies( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadSupplyBusiness":
				LoadSupplyBusiness( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadBusinessBegin":
				LoadBusinessBegin( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadSupplyBusinessListBegin":
				LoadSupplyBusinessListBegin( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadSupplyBusinessList":
				LoadSupplyBusinessList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadBillionaireRank":
				LoadBillionaireRank( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "SupplyContractTerminate":
				SupplyContractTerminate( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 인터페이스 정보를 수신하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	bool ONStock( string compile, AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (compile)==(null) ) return false;
        if( (col)==(null) ) return false;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( compile )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "StockSell":
				StockSell( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "StockBuy":
				StockBuy( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadStockInventory":
				LoadStockInventory( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "LoadStockList":
				LoadStockList( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			case "Stock":
				Stock( col );
				return true;

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		return false;
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 이용 계약에 동의함
	//-------------------------------------------------------------------------------------------------------------------------------
	void ApplicationContract( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewLoading.OFF( app.ViewApplicationContract );
		app.ViewIndigator.OFF( app.ViewApplicationContract );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBack.ON( (app.ViewApplicationContract), (null), (null), (true), (true) );
		app.ViewApplicationContract.ON();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
    }

	//-------------------------------------------------------------------------------------------------------------------------------
    // 이용 계약에 동의함
	//-------------------------------------------------------------------------------------------------------------------------------
	void ApplicationContractAgree( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( true )
		{
			/*
			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			if( app.ViewApplicationContract.Is() || !Library.Is(app.Player.Name()) )
			{
				app.ViewBack.ON( (app.ViewInput), (null), (null), (true), (true) );
				app.ViewInput.ON( app.Language.Get(TEXT.이름을_입력해주세요), (null), (app.Player.funcEditName), (null), (null), (false), (CONFIRM.OK) );
			}
			else
			*/
			{
				app.Engine.ApplicationContractAgree();
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewApplicationContract );
		app.ViewApplicationContract.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // 로딩 화면이 무의미하게 해제되는 것을 방지 하기 위해, 가장 마지막에 해제 명령을 호출함
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewLoading.Is(app.ViewApplicationContract) ) app.ViewLoading.OFF( app.ViewApplicationContract );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
    }

	//-------------------------------------------------------------------------------------------------------------------------------
	// 세션이 종료됨
	//-------------------------------------------------------------------------------------------------------------------------------
	void SessionOut( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.Confirm.ON( app.Language.Get(TEXT.다른_기기에서_접속되어_앱을_종료합니다), (app.Engine.funcQuit) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 인물 (Person)
	//-------------------------------------------------------------------------------------------------------------------------------
	void Person( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagPerson person = app.Person.Register( col );
		if( (person)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewCompany.Is(true) )
		{
			app.ViewCompany.update(person);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewPersonList.Is(true) )
		{
			app.ViewPersonList.Register(person);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		Object[] comArray = FindObjectsOfType( typeof(uiPerson), (true) );
		foreach( uiPerson icon in comArray )
		{
			if( icon.Get()==(person) )
			{
				//-------------------------------------------------------------------------------------------------------------------
		        // -
			    //-------------------------------------------------------------------------------------------------------------------
				icon.Set(person);

				//-------------------------------------------------------------------------------------------------------------------
		        // -
			    //-------------------------------------------------------------------------------------------------------------------
				if( !(icon._GameObject().activeSelf) )
				{
					Func.Active( icon._GameObject() );
				}

				//-------------------------------------------------------------------------------------------------------------------
		        // -
			    //-------------------------------------------------------------------------------------------------------------------
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		(comArray) = FindObjectsOfType( typeof(uiIdentity), (true) );
		foreach( uiIdentity icon in comArray )
		{
			if( icon.Person()!=(null) && (icon.Person().id)==(person.id) )
			{
				//-------------------------------------------------------------------------------------------------------------------
		        // -
			    //-------------------------------------------------------------------------------------------------------------------
				icon.Set(person);

				//-------------------------------------------------------------------------------------------------------------------
		        // -
			    //-------------------------------------------------------------------------------------------------------------------
				if( !(icon._GameObject().activeSelf) )
				{
					Func.Active( icon._GameObject() );
				}

				//-------------------------------------------------------------------------------------------------------------------
		        // -
			    //-------------------------------------------------------------------------------------------------------------------
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewBillionaireRank.Is(true) )
		{
			app.ViewBillionaireRank.Register(person);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 인물 (Identity-Person)
	//-------------------------------------------------------------------------------------------------------------------------------
	void IdentityPerson( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagPerson person = app.Person.Find(col.Get("id"));
		if( (person)!=(null) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			if( (person.nation)==(null) )
			{
//				PeopleHash.PersonNation( app.NationStatic.Find(NATION.대한민국) );
			}

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
//			app.Player.Set(person);

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			app.Identity.Register(person);
			app.City.Set(person.city);

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------

		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 기업 (Company)
	//-------------------------------------------------------------------------------------------------------------------------------
	void Company( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		bool		_isRight	= (false);
		tagCompany	company		= app.Company.Find(col.Get("id"));
		if( (company)!=(null) )
		{
			(_isRight) = app.Company.IsRight(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		(company) = app.Company.Register( col );
		if( (company)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewCompanyList.Is(true) )
		{
			app.ViewCompanyList.Register(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewBusinessList.Is(true) )
		{
			app.ViewBusinessList.update(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewProductList.Is(true) )
		{
			app.ViewProductList.update(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewPersonList.Is(true) )
		{
			app.ViewPersonList.update(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewCompany.Is(true) )
		{
			app.ViewCompany.update(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewStockMarket.Is(true) )
		{
			app.ViewStockMarket.Register(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewStockList.Is(true) )
		{
			app.ViewStockList.update(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewIdentityList.Is(true) )
		{
			if( app.Identity.Find(company)!=(null) && !app.Company.IsRight(company) )
			{
				app.ViewIdentityList.Release(company);
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewDashboardBusiness.Is(true) )
		{
			bool isRight = app.Company.IsRight(company);
			if( (isRight)!=(_isRight) )
			{
				if( isRight )
				{
					app.ViewDashboardBusiness.Reload();
				}
				else
				{
					foreach( tagBusiness business in app.Business.GetList() )
					{
						if( business.Company()==(company) && !app.Business.IsRight(business) )
						{
							app.ViewDashboardBusiness.Release( business );
						}
					}
				}
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 기업 (Identity-Company)
	//-------------------------------------------------------------------------------------------------------------------------------
	void IdentityCompany( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagCompany company = app.Company.Find(col.Get("id"));
		if( (company)!=(null) )
		{
			app.Identity.Register(company);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 사용자 선택 (Identity)
	//-------------------------------------------------------------------------------------------------------------------------------
	void Identity( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( CIdentity.Parse(col.Get("type")) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
		    // 기업 (COMPANY)
		    //-----------------------------------------------------------------------------------------------------------------------
			case (IDENTITY.COMPANY):
				tagCompany company = app.Company.Find(col.Get("id"));
				if( (company)!=(null) && ( app.Company.IsRight(company) || app.Company.IsOwner(company) ) )
				{
					app.Identity.Select( app.Identity.Find( (IDENTITY.COMPANY), col.Get("id") ) );
				}
				break;

			//-----------------------------------------------------------------------------------------------------------------------
		    // 인물 (PERSON)
		    //-----------------------------------------------------------------------------------------------------------------------
			case (IDENTITY.PERSON):
				app.Identity.Select( app.Identity.Find(IDENTITY.PERSON) );
				break;

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewIdentityList.Is() )
		{
//			app.ViewIdentityList.Indigator(false);
			app.ViewIdentityList.OFF();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewDashboardBusiness.Is(true) )
		{
			app.ViewDashboardBusiness.Clear();
			app.ViewDashboardBusiness.Reload();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.Identity );
		app.ViewTop.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 도시 이동
	//-------------------------------------------------------------------------------------------------------------------------------
	void Transfer( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagCityStatic citystatic = app.CityStatic.Find(col.Get("city"));
		if( (citystatic)!=(null) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			if( Apps.Is(app.City.Get()) )
			{
				app.Confirm.ON( Library.Script( app.Language.Get(TEXT.__으로_이동했습니다), app.Language.Get(citystatic.Name()) ) );
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			app.City.Set( citystatic );

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			if( app.ViewTransferList.Is(true) )
			{
				app.ViewTransferList.OFF();
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			if( app.ViewCity.Is(true) )
			{
				app.ViewCity.TransferRefresh();
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			app.ViewIndigator.OFF(app.City);

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewWorldMap.AirplaneRelease();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 창업 (Foundation)
	//-------------------------------------------------------------------------------------------------------------------------------
	void Foundation( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagCompany company = app.Company.Find(col.Get("id"));
		if( (company)!=(null) )
		{
			/*
			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			if( app.Person.Is(app.Player.Person()) )
			{
				app.Company.Set( ref app.Player.Person().company, col.Get("id") );
			}
			*/

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			app.Confirm.ON( Library.Script( app.Language.Get(TEXT.__를_창업했습니다), app.Company.GetName(company) ) );

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF(app.Company);

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewInput.Is() )
		{
			app.ViewInput.OFF();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 국적 (PersonNation)
	//-------------------------------------------------------------------------------------------------------------------------------
	void PersonNation( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

		/*
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.Person.Is(app.Player.Person()) && !Apps.Is(app.Player.Person().nation) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			(app.Player.Person().nation) = app.NationStatic.Find(col.Get("nation"));

			/#
			//-----------------------------------------------------------------------------------------------------------------------
			// 아직 시작 도시가 설정되지 않은 경우
			//-----------------------------------------------------------------------------------------------------------------------
			if( !Apps.Is(app.City.Get()) && app.Person.Is(app.Player.Person()) && Apps.Is(app.Player.Person().nation) )
			{
				app.ViewIndigator.OFF( app.Player );
				app.ViewTransferList.ON();
			}
			#/

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}
		else
		{
			Debug.LogWarning( "이미 국적이 설정되어 있거나 알 수 없는 오류 : "+(app.Player.Person().id) );
		}
		*/

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 사업체 (Business)
	//-------------------------------------------------------------------------------------------------------------------------------
	void Business( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagBusiness business = app.Business.Register(col);
		if( (business)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewBusinessList.Is() )
		{
			app.ViewBusinessList.Register(business);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewProductList.Is(true) )
		{
			app.ViewProductList.update(business);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewProduct.Is(true) )
		{
			app.ViewProduct.update(business);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		Object[] objArray = FindObjectsOfType( typeof(uiBusiness), (true) );
		foreach( uiBusiness icon in objArray )
		{
			if( (icon.data.business as string)==(business.id) || icon.Get()==(business) )
			{
				//-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
				icon.Set(business);

				//-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
				if( icon.Company()!=(null) )
				{
					if( app.Company.Is(business.Company()) )
					{
						icon.Company().Set( business.Company() );
					}
					else
	//				if( icon.Company()!=(null) && !app.Company.Is(icon.Company().Get()) && (business.company as string)!=(null) )
					if( (business.company as string)!=(null) && (icon.Company().data.company)==(null) )
					{
						(icon.Company().data.company) = (business.company);
						app.Company.Reserve( business.company as string );
					}
				}

				//-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
				if( !icon.IsActive() )
				{
					Func.Active( icon._GameObject() );
				}

				//-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 건설 (Build)
	//-------------------------------------------------------------------------------------------------------------------------------
	void Build( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagBusiness business = app.Business.Find(col.Get("id"));
		if( (business)!=(null) )
		{
			app.ViewBusiness.ON( business );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagBusinessStatic	businessstatic		= app.BusinessStatic.Find(col.Get("business"));
		tagCityStatic		citystatic			= app.CityStatic.Find(col.Get("city"));
		if( (businessstatic)!=(null) && (citystatic)!=(null) )
		{
			app.Confirm.ON( Library.Script( app.Language.Get(TEXT.__에__를_건설했습니다), app.Language.Get(citystatic.Name()), app.Language.Get(businessstatic.Name()) ) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBuildList.OFF();
		app.ViewDashboardBusiness.Reload();
//		app.ViewBottom.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 부서 (Department)
	//-------------------------------------------------------------------------------------------------------------------------------
	void Department( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBusiness.Register( col );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 부서 정보를 모두 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadBusiness( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBusiness.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewBusiness.Is() )
		{
			if( app.ViewBusiness.ProcessTimeUpdate() )
			{
				app.ViewBusiness.SetAllowUpdate( true );
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBusiness.Indigator(false);

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 부서 (Department)
	//-------------------------------------------------------------------------------------------------------------------------------
	void DepartmentCreate( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagDepartmentStatic departmentstatic = app.DepartmentStatic.Find(col.Get("id"));
		if( (departmentstatic)!=(null) )
		{
			app.Confirm.ON( Library.Script( app.Language.Get(TEXT.__부가_개설되었습니다), app.Language.Get(departmentstatic.Name()) ) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewDepartmentList.OFF();
		app.ViewBusiness.Sort();
		app.ViewBusiness.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 재배
	//-------------------------------------------------------------------------------------------------------------------------------
	void Cultivate( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewCultureList.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 생산
	//-------------------------------------------------------------------------------------------------------------------------------
	void Make( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		uiDepartment department = app.ViewBusiness.Find(col.Get("department"));
		if( (department)!=(null) )
		{
			tagProductStatic productstatic = app.ProductStatic.Find(col.Get("product"));
			if( (productstatic)!=(null) )
			{
			    //-------------------------------------------------------------------------------------------------------------------
				// -
			    //-------------------------------------------------------------------------------------------------------------------
				department.Make().Set( productstatic );

			    //-------------------------------------------------------------------------------------------------------------------
				// -
			    //-------------------------------------------------------------------------------------------------------------------
				if( productstatic.CorverTexture.Is() && !productstatic.CorverTexture.IsLoad() )
				{
					app.Download.Indigator();
					app.ProductStatic.CorverTextureDownload( (productstatic), (department.Make().funcTextureSet), (productstatic.CorverTexture) );
				}

			    //-------------------------------------------------------------------------------------------------------------------
				// -
			    //-------------------------------------------------------------------------------------------------------------------
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 상품
	//-------------------------------------------------------------------------------------------------------------------------------
	void Product( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewBusiness.Is(true) )
		{
			uiDepartment department = app.ViewBusiness.Find(col.Get("department"));
			if( (department)!=(null) )
			{
				tagProductStatic productstatic = app.ProductStatic.Find(col.Get("product"));
				if( (productstatic)!=(null) )
				{
					//---------------------------------------------------------------------------------------------------------------
					// -
					//---------------------------------------------------------------------------------------------------------------
					uiProduct product = department.Register( (productstatic), (col) );
					if( (product)!=(null) )
					{
						product.Graph().Set( (IDENTITY.PRODUCT), col.Get("id"), (GRAPH.순이익) );
					}

					//---------------------------------------------------------------------------------------------------------------
					// -
					//---------------------------------------------------------------------------------------------------------------
				}
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewProduct.Is(true) )
		{
			app.ViewProduct.update( col );
			app.ViewProduct.Indigator( (false), (1) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewProductList.Is(true) )
		{
			app.ViewProductList.Register( app.ProductStatic.Find(col.Get("product")), (col) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 재고를 처분하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	void ProductDispose( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		uiDepartment department = app.ViewBusiness.Find(col.Get("department"));
		if( (department)!=(null) )
		{
			uiProduct product = department.FindProduct(col.Get("id"));
			if( (product)!=(null) )
			{
			    //-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
				department.ProductDispost( product );
				app.ViewBusiness.Refresh();

			    //-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
				if( product.Get()!=(null) )
				{
					app.Confirm.ON( Library.Script( app.Language.Get(TEXT.__의_재고를_처분했습니다), app.Language.Get(product.Get().Name()) ) );
				}

			    //-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndigator.OFF( CApp.This.ViewBusiness );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 기업 정보를 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadCompanyList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewCompanyList.Indigator( false );
		CApp.This.ViewCompanyList.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( CApp.This.Download.Is() )
		{
			CApp.This.Download.Indigator();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 사업체 정보를 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadBusinessList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewBusinessList.SortAndRefresh();
		CApp.This.ViewBusinessList.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( CApp.This.Download.Is() )
		{
			CApp.This.Download.Indigator();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( (CApp.This.Company.Reserves().Count)>(0) )
		{
			CApp.This.ViewIndigator.ON( (CApp.This.Company), CApp.This.ViewIndigator.GetDescription() );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 상품 정보를 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadProductList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( CApp.This.ViewProductList.Is(true) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			(CApp.This.ViewProductList.data.allowListExpand)	= col.GetBoolean("allowListExpand");
			(CApp.This.ViewProductList.data.listPage)			= col.GetInt("page");

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			if( col.GetInt("page")<=(1) )
			{
				CApp.This.ViewProductList.Refresh();
			}
			else
			{
				float scroll = (CApp.This.ViewProductList.ScrollView().Content().localPosition.y) + (CApp.This.ViewProductList.ScrollView().data.fContentHeight)/(2);
				CApp.This.ViewProductList.Refresh();
				(CApp.This.ViewProductList.ScrollView().Content().localPosition)	= new Vector3( (CApp.This.ViewProductList.ScrollView().Content().localPosition.x), (scroll)-(CApp.This.ViewProductList.ScrollView().data.fContentHeight)/(2), (CApp.This.ViewProductList.ScrollView().Content().localPosition.z) );
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( (CApp.This.Business.Reserves().Count)>(0) )
		{
			CApp.This.ViewIndigator.ON( (CApp.This.Business), CApp.This.ViewIndigator.GetDescription() );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( (CApp.This.Company.Reserves().Count)>(0) )
		{
			CApp.This.ViewIndigator.ON( (CApp.This.Company), CApp.This.ViewIndigator.GetDescription() );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewProductList.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void RequestCompany( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndigator.OFF( CApp.This.Company );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void RequestBusiness( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndigator.OFF( CApp.This.Business );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( (CApp.This.Company.Reserves().Count)>(0) )
		{
			if( app.ViewProductList.Is() )
			{
				CApp.This.ViewIndigator.ON( (CApp.This.Company), app.Language.Get(TEXT.상품_정보를_불러오는_중입니다) );
			}
			else
			{
				CApp.This.ViewIndigator.ON( CApp.This.Company );
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void RequestPerson( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndigator.OFF( CApp.This.Person );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 부서 폐쇄
	//-------------------------------------------------------------------------------------------------------------------------------
	void DepartmentDestroy( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBusiness.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		uiDepartment department = app.ViewBusiness.Find(col.Get("id"));
		if( (department)!=(null) )
		{
			app.ViewBusiness.Release(department);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 사업체 철거
	//-------------------------------------------------------------------------------------------------------------------------------
	void BusinessDestroy( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagBusiness business = app.Business.Find(col.Get("id"));
		if( (business)!=(null) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			if( app.ViewBusiness.Is(true) && app.ViewBusiness.Get()==(business) )
			{
				app.Confirm.ON( app.Language.Get(TEXT.사업체가_철거되었습니다) );
				app.ViewBusiness.OFF();
			}

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			if( app.ViewBusinessList.Is(true) )
			{
				app.ViewBusinessList.Release(business);
			}

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			app.Business.Release(business);
			app.ViewDashboardBusiness.Release(business);
//			app.ViewBottom.Refresh();

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
//			app.Sound.ON( SOUND.철거 );

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.Business );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
    // -
	//-------------------------------------------------------------------------------------------------------------------------------
	void DayUnit( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
//		(play.Day) = col.GetInt("value");	//여유 시간을 주기위해 5분으로 처리함
		(play.Day) = (60*5);

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
    }

	//-------------------------------------------------------------------------------------------------------------------------------
	// 가축 사육
	//-------------------------------------------------------------------------------------------------------------------------------
	void Breed( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBreedList.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 축산 가공
	//-------------------------------------------------------------------------------------------------------------------------------
	void Manufacture( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewManufactureList.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 공급 계약
	//-------------------------------------------------------------------------------------------------------------------------------
	void SupplyContract( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		department구매부 department = (app.ViewBusiness.FindFromType(DEPARTMENT.구매부) as department구매부);
		if( (department)!=(null) )
		{
			department.RegisterContract( col.Get("supply"), CApp.This.ProductStatic.Find(col.Get("product")) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 공급 계약
	//-------------------------------------------------------------------------------------------------------------------------------
	void SupplyContractEnd( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewBusiness.Is(true) )
		{
			app.ViewBusiness.Refresh();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		department구매부 department = (app.ViewBusiness.FindFromType(DEPARTMENT.구매부) as department구매부);
		if( (department)!=(null) )
		{
			department.funcUpdateSupplyContractList();
			department.IList_OnList_ProductList( app.ViewProductList.FindFromID(col.Get("id")) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.Confirm.ON( app.Language.Get(TEXT.공급_계약을_체결했습니다) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewProductList );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 공급 계약을 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadSupplyContract( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewBusiness.Get()!=(null) && (app.ViewBusiness.Get().id)==col.Get("id") )
		{
			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			department구매부 department = (app.ViewBusiness.FindFromType(DEPARTMENT.구매부) as department구매부);
			if( (department)!=(null) && app.ViewProductStaticList.Is(true) && app.ViewProductStaticList.GetListInterface()==(department as IListInterface) )
			{
				department.funcUpdateSupplyContractList();
			}

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			app.ViewIndigator.OFF( department );

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 경영인 리스트를 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadPersonList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewPersonList.Refresh();
		CApp.This.ViewPersonList.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( CApp.This.Download.Is() )
		{
			CApp.This.Download.Indigator();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( (CApp.This.Company.Reserves().Count)>(0) )
		{
			CApp.This.ViewIndigator.ON( (CApp.This.Company), CApp.This.ViewIndigator.GetDescription() );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

#if UNITY_EDITOR
	//-------------------------------------------------------------------------------------------------------------------------------
	// 계정
	//-------------------------------------------------------------------------------------------------------------------------------
	void Account( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewAccountList.Register( col );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 계정 리스트를 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadAccountList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
//		CApp.This.ViewAccountList._Transform().SetParent( play.foreCanvas._RectTransform() );
		CApp.This.ViewAccountList.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}
#endif

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void PersonPicture( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
//		app.Person.PictureDownload( app.Player.Person(), col.Get("picture"), (play.serverTime) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndigator.OFF( app.ViewPerson );
		CApp.This.Confirm.ON( CApp.This.Language.Get(TEXT.이미지가_업로드_되었습니다) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 기업 로고 변경
	//-------------------------------------------------------------------------------------------------------------------------------
	void CompanyPicture( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagCompany company = app.Company.Find(col.Get("id"));
		if( (company)!=(null) )
		{
			app.Company.PictureDownload( (company), col.Get("picture"), col.GetULong("picture_upload_time") );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndigator.OFF( app.ViewCompany );
		CApp.This.Confirm.ON( CApp.This.Language.Get(TEXT.이미지가_업로드_되었습니다) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 기업 이름 변경
	//-------------------------------------------------------------------------------------------------------------------------------
	void CompanyNameChange( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagCompany company = app.Company.Find(col.Get("id"));
		if( app.Company.IsOwner(company) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			(company.name)	= col.Get("name");

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			if( app.ViewCompany.IsFullscreen() )
			{
				app.ViewNavigation.Subject().Set( company.name );
				app.ViewNavigation.OnEdit();
			}

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			Object[] objArray = (null);

			//-----------------------------------------------------------------------------------------------------------------------
			// -
			//-----------------------------------------------------------------------------------------------------------------------
			(objArray) = FindObjectsOfType( typeof(uiCompany), (true) );
			foreach( uiCompany icon in objArray )
			{
				if( icon.Get()==(company) )
				{
					if( icon.Text()!=(null) )
					{
						(icon.Text().text)	= (company.name);
					}
				}
			}

			//---------------------------------------------------------------------------------------------------------------------------
			// -
			//---------------------------------------------------------------------------------------------------------------------------
			(objArray) = FindObjectsOfType( typeof(uiIdentity), (true) );
			foreach( uiIdentity icon in objArray )
			{
				if( icon.Company()==(company) )
				{
					(icon.Name().text)	= (company.name);
				}
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.Company );
		app.ViewInput.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.Confirm.ON( app.Language.Get(TEXT.이름이_변경되었습니다) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 그래프
	//-------------------------------------------------------------------------------------------------------------------------------
	void Graph( AppsParameter col )
    {
		/*
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		IDENTITY	nIdentity	= CIdentity.Parse(col.Get("identity"));
		GRAPH		nGraph		= uiGraph.StrToGraphType(col.Get("type"));

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		foreach( uiGraph graph in uiGraph.Graphes )
		{
			if( graph.Is( (nIdentity), col.Get("id"), (nGraph) ) )
			{
			    //-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
				graph.Register( col.GetInt("date"), (float)col.GetDecimal("value") );

			    //-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
				if( !graph.IsActive() )
				{
					Func.Active( graph._GameObject() );
				}

			    //-------------------------------------------------------------------------------------------------------------------
				// -
				//-------------------------------------------------------------------------------------------------------------------
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		switch( nIdentity )
		{
			//-----------------------------------------------------------------------------------------------------------------------
		    // 사업체
		    //-----------------------------------------------------------------------------------------------------------------------
			case (IDENTITY.BUSINESS):
				app.Business.Graph( app.Business.Find(col.Get("id")), (nGraph), col.GetInt("date"), col.GetFloat("value") );
				break;

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		*/
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 재고를 처분하기 위한 함수
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadProduct( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.MessageQueue.ONAndSkip( (CApp.This.ViewProduct.funcIndigator), (false) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 기업 정보를 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadCompany( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewCompany.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 생산
	//-------------------------------------------------------------------------------------------------------------------------------
	void IndustryRegister( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndustryList.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 운송 정보를 불러옴
	//-------------------------------------------------------------------------------------------------------------------------------
	void Transport( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewTransportList.Register( col );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 운송 리스트
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadTransportList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewTransportList.Refresh();
		CApp.This.ViewTransportList.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 아바타를 저장함
	//-------------------------------------------------------------------------------------------------------------------------------
	void AvatarSave( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewAvatarModifier.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 주식 시장
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadStockMarket( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewStockMarket.Refresh();
		CApp.This.ViewStockMarket.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// 주식을 발행함
	//-------------------------------------------------------------------------------------------------------------------------------
	void StockPublish( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewCompany.Indigator( false );
		CApp.This.Confirm.ON( app.Language.Get(TEXT.주식을_발행했습니다) );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadIndustry( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		CApp.This.ViewIndustryEncyclopedia.Indigator( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void IndustryResource( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		uiIcon icon = app.ViewIndustryEncyclopedia.Find(col.Get("id"));
		if( (icon)!=(null) )
		{
			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			Text value = (Func.Get( icon.Transform(), "Arr/Info/Value" ).GetComponent(typeof(Text)) as Text);
			if( (value)!=(null) )
			{
				(value.text)	= col.Get("value");
				Func.Active( value.gameObject );
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
			Text weight = (Func.Get( icon.Transform(), "Arr/Info/Weight/Value" ).GetComponent(typeof(Text)) as Text);
			if( (weight)!=(null) )
			{
				(weight.text)	= col.Get("weight")+"%";
				Func.Active( weight.gameObject );
			}

			//-----------------------------------------------------------------------------------------------------------------------
		    // -
		    //-----------------------------------------------------------------------------------------------------------------------
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void Industry( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewIndustryEncyclopedia.Is(true) )
		{
			app.ViewIndustryEncyclopedia.update(col);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void StockBuy( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagCompany company = app.Company.Find(col.Get("id"));
		if( app.Company.Is(company) && app.ViewStockList.Is(true) && app.ViewStockList.Get()==(company) && col.GetBoolean("burn_stocks") )
		{
			app.ViewStockList.RefreshStocks();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.Stock );
//		app.Sound.ON( SOUND.주식시장 );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void Cash( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		IDENTITY nIdentity = CIdentity.Parse(col.Get("identity"));
		if( (nIdentity)==(IDENTITY.COMPANY) )
		{
			tagCompany company = app.Company.Find(col.Get("id"));
			if( (company)!=(null) )
			{
//				app.Cash.ON( (company.Cashes), app.CurrencyStatic.Find(col.Get("currency")), col.GetDecimal("value") );
			}			
		}
		else
		if( (nIdentity)==(IDENTITY.PERSON) )
		{
			tagPerson person = app.Person.Find(col.Get("id"));
			if( (person)!=(null) )
			{
//				app.Cash.ON( (person.Cashes), app.CurrencyStatic.Find(col.Get("currency")), col.GetDecimal("value") );
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewTop.Is(true) )
		{
			app.ViewTop.Refresh();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewFinance.Is(true) )
		{
			app.ViewFinance.Refresh();
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadStockInventory( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewStockInventory );
		app.ViewStockInventory.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void Stock( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
//		if( app.ViewStockInventory.Is(true) )	//보유 주식인지, 점유율 주식인지 확인할 수 없기 때문에 활성화된 인터페이스에만 적용함
		if( app.ViewStockInventory.Is() )
		{
			app.ViewStockInventory.Register( app.Company.Find(col.Get("company")), (col) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
//		if( app.ViewStockList.Is(true) )		//보유 주식인지, 점유율 주식인지 확인할 수 없기 때문에 활성화된 인터페이스에만 적용함
		if( app.ViewStockList.Is() )
		{
			tagIdentity identity = new tagIdentity( CIdentity.Parse(col.Get("identity")), col.Get("id") );
			if( (identity)!=(null) )
			{
				app.ViewStockList.Register( (identity), app.Company.Find(col.Get("company")), (col) );
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void StockSell( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewStockInventory );
//		app.Sound.ON( SOUND.주식시장 );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadPerson( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewPerson );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadStockList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewStockList );
		app.ViewStockList.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void IdentityError( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.Confirm.ON( app.Language.Get(TEXT.알_수_없는_오류가_발생했습니다) );
		app.ViewIndigator.OFF( app.ViewIdentityList );
		app.ViewIndigator.OFF( app.ViewStockInventory );
		app.ViewIndigator.OFF( app.Stock );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagCompany company = app.Identity.Company();
		if( app.Company.Is(company) && app.Identity.Find(company)!=(null) )
		{
			if( !app.Company.IsRight(company) )
			{
				app.Identity.Change( app.Identity.Find(IDENTITY.PERSON) );
			}
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void Notify( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.Notify.Register( col );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadNotifyList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.ViewNotifyList.Is() )
		{
			app.ViewNotifyList.LoadList();
			app.ViewNotifyList.Indigator( false );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void Notifies( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewTop.Notifies();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadSupplyBusiness( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewBusiness );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadBusinessBegin( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		tagBusiness business = app.Business.Find(col.Get("id"));
		if( app.ViewBusiness.Is() && app.ViewBusiness.Get()!=(business) )
		{
			app.ViewBusiness.ON( (business), (false) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadSupplyBusinessListBegin( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewBusinessList.ON( false );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadSupplyBusinessList( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewBusiness );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void LoadBillionaireRank( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.ViewIndigator.OFF( app.ViewBillionaireRank );
		app.ViewBillionaireRank.Refresh();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void NameChange( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

		/*
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		if( app.Player.Person()!=(null) )
		{
			(app.Player.Person().name)	= col.Get("name");
		}
		*/

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
//		app.ViewIndigator.OFF( app.Player );
		app.ViewInput.OFF();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.Engine.ApplicationContractAgree();

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	//-------------------------------------------------------------------------------------------------------------------------------
	// -
	//-------------------------------------------------------------------------------------------------------------------------------
	void SupplyContractTerminate( AppsParameter col )
    {
	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
        if( (col)==(null) ) return;

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		department구매부 department = (app.ViewBusiness.FindFromType(DEPARTMENT.구매부) as department구매부);
		if( (department)!=(null) )
		{
			department.ReleaseContract( col.Get("supply"), app.ProductStatic.Find(col.Get("product")) );
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		uiProduct icon = app.ViewProductList.FindFromID(col.Get("id"));
		if( (icon)!=(null) && icon.Control()!=(null) && icon.Control().Transform()!=icon.Transform() )
		{
			Func.Destroy( icon.Control() );
			(icon.data.control)	= (icon.GetComponent(typeof(objControl)) as objControl);
			icon.Alpha(1);
		}

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
		app.Confirm.ON( app.Language.Get(TEXT.계약을_중단했습니다) );
		app.ViewIndigator.OFF( app.ViewProductList );

	    //---------------------------------------------------------------------------------------------------------------------------
        // -
	    //---------------------------------------------------------------------------------------------------------------------------
	}

	void Define( AppsParameter col )
    {
        if( col==null ) return;
		SYSTEM.BUSINESS_BUILD_LIMIT = col.GetInt("BUSINESS_BUILD_LIMIT");
	}
}